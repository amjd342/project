{"ast":null,"code":"import _objectWithoutProperties from\"C:/Users/\\u0627\\u0645\\u062C\\u062F \\u0627\\u0644\\u0633\\u0644\\u0645\\u064A/OneDrive/\\u0627\\u0644\\u0645\\u0633\\u062A\\u0646\\u062F\\u0627\\u062A/GitHub/project/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _objectSpread from\"C:/Users/\\u0627\\u0645\\u062C\\u062F \\u0627\\u0644\\u0633\\u0644\\u0645\\u064A/OneDrive/\\u0627\\u0644\\u0645\\u0633\\u062A\\u0646\\u062F\\u0627\\u062A/GitHub/project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const _excluded=[\"password\"],_excluded2=[\"password\"],_excluded3=[\"password\"];// Database utility functions for local JSON storage\n// In a real app, this would connect to Supabase or another backend\nconst DB_KEY='usaruna_database';let currentDB=null;// ðŸ‘ˆ Ø¥Ø¶Ø§ÙØ© Ù…ØªØºÙŠØ± Ø­Ø§Ù„Ø© Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ÙˆØ­Ø¯Ø© Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØªÙˆÙ‚ÙŠØª\n// Initialize database from JSON file or localStorage\nexport const initDatabase=async()=>{// 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ø£ÙˆÙ„Ø§Ù‹ Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø©\nif(currentDB)return currentDB;const stored=localStorage.getItem(DB_KEY);if(stored){currentDB=JSON.parse(stored);// ðŸ‘ˆ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©\nreturn currentDB;}// Load initial data from JSON file\ntry{const response=await fetch('/data/database.json');if(!response.ok){throw new Error(\"Failed to fetch database: \".concat(response.statusText));}const data=await response.json();localStorage.setItem(DB_KEY,JSON.stringify(data));currentDB=data;// ðŸ‘ˆ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©\nreturn data;}catch(error){// Default empty database structure\nconst defaultDB={users:[],products:[],orders:[],cart:[],reviews:[]};localStorage.setItem(DB_KEY,JSON.stringify(defaultDB));currentDB=defaultDB;// ðŸ‘ˆ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©\nreturn defaultDB;}};// Get current database state\nexport const getDatabase=()=>{// 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø© ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø£ÙˆÙ„Ø§Ù‹\nif(currentDB)return currentDB;const stored=localStorage.getItem(DB_KEY);if(stored){currentDB=JSON.parse(stored);// ðŸ‘ˆ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø¥Ø°Ø§ ØªÙ… Ø§Ù„Ø¬Ù„Ø¨ Ù…Ù† localStorage\nreturn currentDB;}return null;};// Save database to localStorage\nexport const saveDatabase=data=>{currentDB=data;// ðŸ‘ˆ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø­ÙØ¸\nlocalStorage.setItem(DB_KEY,JSON.stringify(data));};// Generate unique ID\nexport const generateId=function(){let prefix=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'id';return\"\".concat(prefix,\"-\").concat(Date.now(),\"-\").concat(Math.random().toString(36).substr(2,9));};// ==================== USER OPERATIONS ====================\n// Find user by email\nexport const findUserByEmail=email=>{const db=getDatabase();if(!db)return null;return db.users.find(user=>user.email.toLowerCase()===email.toLowerCase());};// Find user by ID\nexport const findUserById=id=>{const db=getDatabase();if(!db)return null;return db.users.find(user=>user.id===id);};// Create new user\nexport const createUser=userData=>{const db=getDatabase();if(!db)return null;// Check if email already exists\nif(findUserByEmail(userData.email)){throw new Error('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹ - Email already registered');}const newUser=_objectSpread(_objectSpread({id:generateId('user')},userData),{},{verified:false,createdAt:new Date().toISOString(),profileImage:null});db.users.push(newUser);saveDatabase(db);// Return user without password\nconst{password}=newUser,userWithoutPassword=_objectWithoutProperties(newUser,_excluded);return userWithoutPassword;};// Update user\nexport const updateUser=(userId,updates)=>{const db=getDatabase();if(!db)return null;const userIndex=db.users.findIndex(user=>user.id===userId);if(userIndex===-1)return null;db.users[userIndex]=_objectSpread(_objectSpread({},db.users[userIndex]),updates);saveDatabase(db);const _db$users$userIndex=db.users[userIndex],{password}=_db$users$userIndex,userWithoutPassword=_objectWithoutProperties(_db$users$userIndex,_excluded2);return userWithoutPassword;};// Validate user credentials\nexport const validateCredentials=(email,password)=>{const user=findUserByEmail(email);if(!user)return null;// Simple password comparison (in production, use bcrypt)\nif(user.password!==password)return null;const{password:pwd}=user,userWithoutPassword=_objectWithoutProperties(user,_excluded3);return userWithoutPassword;};// ==================== PRODUCT OPERATIONS ====================\n// Get all products\nexport const getAllProducts=()=>{const db=getDatabase();if(!db)return[];return db.products;};// Get products by seller\nexport const getProductsBySeller=sellerId=>{const db=getDatabase();if(!db)return[];return db.products.filter(product=>product.sellerId===sellerId);};// Get product by ID\nexport const getProductById=productId=>{const db=getDatabase();if(!db)return null;return db.products.find(product=>product.id===productId);};// Create product\nexport const createProduct=productData=>{const db=getDatabase();if(!db)return null;const newProduct=_objectSpread(_objectSpread({id:generateId('prod')},productData),{},{rating:0,reviewCount:0,createdAt:new Date().toISOString(),featured:false});db.products.push(newProduct);saveDatabase(db);return newProduct;};// Update product\nexport const updateProduct=(productId,updates)=>{const db=getDatabase();if(!db)return null;const productIndex=db.products.findIndex(p=>p.id===productId);if(productIndex===-1)return null;db.products[productIndex]=_objectSpread(_objectSpread({},db.products[productIndex]),updates);saveDatabase(db);return db.products[productIndex];};// Delete product\nexport const deleteProduct=productId=>{const db=getDatabase();if(!db)return false;const productIndex=db.products.findIndex(p=>p.id===productId);if(productIndex===-1)return false;db.products.splice(productIndex,1);saveDatabase(db);return true;};// Search products\nexport const searchProducts=query=>{const db=getDatabase();if(!db)return[];const lowerQuery=query.toLowerCase();return db.products.filter(product=>product.name.toLowerCase().includes(lowerQuery)||product.nameEn.toLowerCase().includes(lowerQuery)||product.description.toLowerCase().includes(lowerQuery)||product.descriptionEn.toLowerCase().includes(lowerQuery)||product.category.toLowerCase().includes(lowerQuery));};// Get products by category\nexport const getProductsByCategory=category=>{const db=getDatabase();if(!db)return[];return db.products.filter(product=>product.category===category);};// Get featured products\nexport const getFeaturedProducts=()=>{const db=getDatabase();if(!db)return[];return db.products.filter(product=>product.featured);};// ==================== CART OPERATIONS ====================\n// Get user cart\nexport const getUserCart=userId=>{const db=getDatabase();if(!db)return[];return db.cart.filter(item=>item.userId===userId);};// Add to cart\nexport const addToCart=function(userId,productId){let quantity=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;const db=getDatabase();if(!db)return null;const existingIndex=db.cart.findIndex(item=>item.userId===userId&&item.productId===productId);if(existingIndex!==-1){db.cart[existingIndex].quantity+=quantity;}else{db.cart.push({id:generateId('cart'),userId,productId,quantity,addedAt:new Date().toISOString()});}saveDatabase(db);return getUserCart(userId);};// Update cart item quantity\nexport const updateCartQuantity=(userId,productId,quantity)=>{const db=getDatabase();if(!db)return null;const itemIndex=db.cart.findIndex(item=>item.userId===userId&&item.productId===productId);if(itemIndex===-1)return null;if(quantity<=0){db.cart.splice(itemIndex,1);}else{db.cart[itemIndex].quantity=quantity;}saveDatabase(db);return getUserCart(userId);};// Remove from cart\nexport const removeFromCart=(userId,productId)=>{const db=getDatabase();if(!db)return null;db.cart=db.cart.filter(item=>!(item.userId===userId&&item.productId===productId));saveDatabase(db);return getUserCart(userId);};// Clear user cart\nexport const clearCart=userId=>{const db=getDatabase();if(!db)return null;db.cart=db.cart.filter(item=>item.userId!==userId);saveDatabase(db);return[];};// ==================== ORDER OPERATIONS ====================\n// Create order\nexport const createOrder=orderData=>{const db=getDatabase();if(!db)return null;const newOrder=_objectSpread(_objectSpread({id:generateId('order')},orderData),{},{status:'pending',createdAt:new Date().toISOString()});db.orders.push(newOrder);saveDatabase(db);return newOrder;};// Get user orders\nexport const getUserOrders=userId=>{const db=getDatabase();if(!db)return[];return db.orders.filter(order=>order.userId===userId);};// Get seller orders\nexport const getSellerOrders=sellerId=>{const db=getDatabase();if(!db)return[];return db.orders.filter(order=>order.sellerId===sellerId);};// Update order status\nexport const updateOrderStatus=(orderId,status)=>{const db=getDatabase();if(!db)return null;const orderIndex=db.orders.findIndex(o=>o.id===orderId);if(orderIndex===-1)return null;db.orders[orderIndex].status=status;db.orders[orderIndex].updatedAt=new Date().toISOString();saveDatabase(db);return db.orders[orderIndex];};// ==================== REVIEW OPERATIONS ====================\n// Add review\nexport const addReview=reviewData=>{const db=getDatabase();if(!db)return null;const newReview=_objectSpread(_objectSpread({id:generateId('review')},reviewData),{},{createdAt:new Date().toISOString()});db.reviews.push(newReview);// Update product rating\nconst productReviews=db.reviews.filter(r=>r.productId===reviewData.productId);const avgRating=productReviews.reduce((sum,r)=>sum+r.rating,0)/productReviews.length;const productIndex=db.products.findIndex(p=>p.id===reviewData.productId);if(productIndex!==-1){db.products[productIndex].rating=Math.round(avgRating*10)/10;db.products[productIndex].reviewCount=productReviews.length;}saveDatabase(db);return newReview;};// Get product reviews\nexport const getProductReviews=productId=>{const db=getDatabase();if(!db)return[];return db.reviews.filter(review=>review.productId===productId);};export default{initDatabase,getDatabase,saveDatabase,generateId,findUserByEmail,findUserById,createUser,updateUser,validateCredentials,getAllProducts,getProductsBySeller,getProductById,createProduct,updateProduct,deleteProduct,searchProducts,getProductsByCategory,getFeaturedProducts,getUserCart,addToCart,updateCartQuantity,removeFromCart,clearCart,createOrder,getUserOrders,getSellerOrders,updateOrderStatus,addReview,getProductReviews};","map":{"version":3,"names":["DB_KEY","currentDB","initDatabase","stored","localStorage","getItem","JSON","parse","response","fetch","ok","Error","concat","statusText","data","json","setItem","stringify","error","defaultDB","users","products","orders","cart","reviews","getDatabase","saveDatabase","generateId","prefix","arguments","length","undefined","Date","now","Math","random","toString","substr","findUserByEmail","email","db","find","user","toLowerCase","findUserById","id","createUser","userData","newUser","_objectSpread","verified","createdAt","toISOString","profileImage","push","password","userWithoutPassword","_objectWithoutProperties","_excluded","updateUser","userId","updates","userIndex","findIndex","_db$users$userIndex","_excluded2","validateCredentials","pwd","_excluded3","getAllProducts","getProductsBySeller","sellerId","filter","product","getProductById","productId","createProduct","productData","newProduct","rating","reviewCount","featured","updateProduct","productIndex","p","deleteProduct","splice","searchProducts","query","lowerQuery","name","includes","nameEn","description","descriptionEn","category","getProductsByCategory","getFeaturedProducts","getUserCart","item","addToCart","quantity","existingIndex","addedAt","updateCartQuantity","itemIndex","removeFromCart","clearCart","createOrder","orderData","newOrder","status","getUserOrders","order","getSellerOrders","updateOrderStatus","orderId","orderIndex","o","updatedAt","addReview","reviewData","newReview","productReviews","r","avgRating","reduce","sum","round","getProductReviews","review"],"sources":["C:/Users/Ø§Ù…Ø¬Ø¯ Ø§Ù„Ø³Ù„Ù…ÙŠ/OneDrive/Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª/GitHub/project/src/utils/database.js"],"sourcesContent":["// Database utility functions for local JSON storage\r\n// In a real app, this would connect to Supabase or another backend\r\n\r\nconst DB_KEY = 'usaruna_database';\r\nlet currentDB = null; // ðŸ‘ˆ Ø¥Ø¶Ø§ÙØ© Ù…ØªØºÙŠØ± Ø­Ø§Ù„Ø© Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ÙˆØ­Ø¯Ø© Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØªÙˆÙ‚ÙŠØª\r\n\r\n// Initialize database from JSON file or localStorage\r\nexport const initDatabase = async () => {\r\n    // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ø£ÙˆÙ„Ø§Ù‹ Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø©\r\n    if (currentDB) return currentDB;\r\n\r\n    const stored = localStorage.getItem(DB_KEY);\r\n    if (stored) {\r\n        currentDB = JSON.parse(stored); // ðŸ‘ˆ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©\r\n        return currentDB;\r\n    }\r\n    \r\n    // Load initial data from JSON file\r\n    try {\r\n        const response = await fetch('/data/database.json');\r\n        if (!response.ok) {\r\n             throw new Error(`Failed to fetch database: ${response.statusText}`);\r\n        }\r\n        const data = await response.json();\r\n        localStorage.setItem(DB_KEY, JSON.stringify(data));\r\n        currentDB = data; // ðŸ‘ˆ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©\r\n        return data;\r\n    } catch (error) {\r\n        // Default empty database structure\r\n        const defaultDB = {\r\n            users: [],\r\n            products: [],\r\n            orders: [],\r\n            cart: [],\r\n            reviews: []\r\n        };\r\n        localStorage.setItem(DB_KEY, JSON.stringify(defaultDB));\r\n        currentDB = defaultDB; // ðŸ‘ˆ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©\r\n        return defaultDB;\r\n    }\r\n};\r\n\r\n// Get current database state\r\nexport const getDatabase = () => {\r\n    // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø© ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø£ÙˆÙ„Ø§Ù‹\r\n    if (currentDB) return currentDB; \r\n\r\n    const stored = localStorage.getItem(DB_KEY);\r\n    if (stored) {\r\n        currentDB = JSON.parse(stored); // ðŸ‘ˆ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø¥Ø°Ø§ ØªÙ… Ø§Ù„Ø¬Ù„Ø¨ Ù…Ù† localStorage\r\n        return currentDB;\r\n    }\r\n    return null;\r\n};\r\n\r\n// Save database to localStorage\r\nexport const saveDatabase = (data) => {\r\n    currentDB = data; // ðŸ‘ˆ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø­ÙØ¸\r\n    localStorage.setItem(DB_KEY, JSON.stringify(data));\r\n};\r\n\r\n// Generate unique ID\r\nexport const generateId = (prefix = 'id') => {\r\n    return `${prefix}-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n};\r\n\r\n// ==================== USER OPERATIONS ====================\r\n\r\n// Find user by email\r\nexport const findUserByEmail = (email) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    return db.users.find(user => user.email.toLowerCase() === email.toLowerCase());\r\n};\r\n\r\n// Find user by ID\r\nexport const findUserById = (id) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    return db.users.find(user => user.id === id);\r\n};\r\n\r\n// Create new user\r\nexport const createUser = (userData) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    \r\n    // Check if email already exists\r\n    if (findUserByEmail(userData.email)) {\r\n        throw new Error('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ø¬Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹ - Email already registered');\r\n    }\r\n    \r\n    const newUser = {\r\n        id: generateId('user'),\r\n        ...userData,\r\n        verified: false,\r\n        createdAt: new Date().toISOString(),\r\n        profileImage: null\r\n    };\r\n    \r\n    db.users.push(newUser);\r\n    saveDatabase(db);\r\n    \r\n    // Return user without password\r\n    const { password, ...userWithoutPassword } = newUser;\r\n    return userWithoutPassword;\r\n};\r\n\r\n// Update user\r\nexport const updateUser = (userId, updates) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    \r\n    const userIndex = db.users.findIndex(user => user.id === userId);\r\n    if (userIndex === -1) return null;\r\n    \r\n    db.users[userIndex] = { ...db.users[userIndex], ...updates };\r\n    saveDatabase(db);\r\n    \r\n    const { password, ...userWithoutPassword } = db.users[userIndex];\r\n    return userWithoutPassword;\r\n};\r\n\r\n// Validate user credentials\r\nexport const validateCredentials = (email, password) => {\r\n    const user = findUserByEmail(email);\r\n    if (!user) return null;\r\n    \r\n    // Simple password comparison (in production, use bcrypt)\r\n    if (user.password !== password) return null;\r\n    \r\n    const { password: pwd, ...userWithoutPassword } = user;\r\n    return userWithoutPassword;\r\n};\r\n\r\n// ==================== PRODUCT OPERATIONS ====================\r\n\r\n// Get all products\r\nexport const getAllProducts = () => {\r\n    const db = getDatabase();\r\n    if (!db) return [];\r\n    return db.products;\r\n};\r\n\r\n// Get products by seller\r\nexport const getProductsBySeller = (sellerId) => {\r\n    const db = getDatabase();\r\n    if (!db) return [];\r\n    return db.products.filter(product => product.sellerId === sellerId);\r\n};\r\n\r\n// Get product by ID\r\nexport const getProductById = (productId) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    return db.products.find(product => product.id === productId);\r\n};\r\n\r\n// Create product\r\nexport const createProduct = (productData) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    \r\n    const newProduct = {\r\n        id: generateId('prod'),\r\n        ...productData,\r\n        rating: 0,\r\n        reviewCount: 0,\r\n        createdAt: new Date().toISOString(),\r\n        featured: false\r\n    };\r\n    \r\n    db.products.push(newProduct);\r\n    saveDatabase(db);\r\n    return newProduct;\r\n};\r\n\r\n// Update product\r\nexport const updateProduct = (productId, updates) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    \r\n    const productIndex = db.products.findIndex(p => p.id === productId);\r\n    if (productIndex === -1) return null;\r\n    \r\n    db.products[productIndex] = { ...db.products[productIndex], ...updates };\r\n    saveDatabase(db);\r\n    return db.products[productIndex];\r\n};\r\n\r\n// Delete product\r\nexport const deleteProduct = (productId) => {\r\n    const db = getDatabase();\r\n    if (!db) return false;\r\n    \r\n    const productIndex = db.products.findIndex(p => p.id === productId);\r\n    if (productIndex === -1) return false;\r\n    \r\n    db.products.splice(productIndex, 1);\r\n    saveDatabase(db);\r\n    return true;\r\n};\r\n\r\n// Search products\r\nexport const searchProducts = (query) => {\r\n    const db = getDatabase();\r\n    if (!db) return [];\r\n    \r\n    const lowerQuery = query.toLowerCase();\r\n    return db.products.filter(product => \r\n        product.name.toLowerCase().includes(lowerQuery) ||\r\n        product.nameEn.toLowerCase().includes(lowerQuery) ||\r\n        product.description.toLowerCase().includes(lowerQuery) ||\r\n        product.descriptionEn.toLowerCase().includes(lowerQuery) ||\r\n        product.category.toLowerCase().includes(lowerQuery)\r\n    );\r\n};\r\n\r\n// Get products by category\r\nexport const getProductsByCategory = (category) => {\r\n    const db = getDatabase();\r\n    if (!db) return [];\r\n    return db.products.filter(product => product.category === category);\r\n};\r\n\r\n// Get featured products\r\nexport const getFeaturedProducts = () => {\r\n    const db = getDatabase();\r\n    if (!db) return [];\r\n    return db.products.filter(product => product.featured);\r\n};\r\n\r\n// ==================== CART OPERATIONS ====================\r\n\r\n// Get user cart\r\nexport const getUserCart = (userId) => {\r\n    const db = getDatabase();\r\n    if (!db) return [];\r\n    return db.cart.filter(item => item.userId === userId);\r\n};\r\n\r\n// Add to cart\r\nexport const addToCart = (userId, productId, quantity = 1) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    \r\n    const existingIndex = db.cart.findIndex(\r\n        item => item.userId === userId && item.productId === productId\r\n    );\r\n    \r\n    if (existingIndex !== -1) {\r\n        db.cart[existingIndex].quantity += quantity;\r\n    } else {\r\n        db.cart.push({\r\n            id: generateId('cart'),\r\n            userId,\r\n            productId,\r\n            quantity,\r\n            addedAt: new Date().toISOString()\r\n        });\r\n    }\r\n    \r\n    saveDatabase(db);\r\n    return getUserCart(userId);\r\n};\r\n\r\n// Update cart item quantity\r\nexport const updateCartQuantity = (userId, productId, quantity) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    \r\n    const itemIndex = db.cart.findIndex(\r\n        item => item.userId === userId && item.productId === productId\r\n    );\r\n    \r\n    if (itemIndex === -1) return null;\r\n    \r\n    if (quantity <= 0) {\r\n        db.cart.splice(itemIndex, 1);\r\n    } else {\r\n        db.cart[itemIndex].quantity = quantity;\r\n    }\r\n    \r\n    saveDatabase(db);\r\n    return getUserCart(userId);\r\n};\r\n\r\n// Remove from cart\r\nexport const removeFromCart = (userId, productId) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    \r\n    db.cart = db.cart.filter(\r\n        item => !(item.userId === userId && item.productId === productId)\r\n    );\r\n    \r\n    saveDatabase(db);\r\n    return getUserCart(userId);\r\n};\r\n\r\n// Clear user cart\r\nexport const clearCart = (userId) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    \r\n    db.cart = db.cart.filter(item => item.userId !== userId);\r\n    saveDatabase(db);\r\n    return [];\r\n};\r\n\r\n// ==================== ORDER OPERATIONS ====================\r\n\r\n// Create order\r\nexport const createOrder = (orderData) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    \r\n    const newOrder = {\r\n        id: generateId('order'),\r\n        ...orderData,\r\n        status: 'pending',\r\n        createdAt: new Date().toISOString()\r\n    };\r\n    \r\n    db.orders.push(newOrder);\r\n    saveDatabase(db);\r\n    return newOrder;\r\n};\r\n\r\n// Get user orders\r\nexport const getUserOrders = (userId) => {\r\n    const db = getDatabase();\r\n    if (!db) return [];\r\n    return db.orders.filter(order => order.userId === userId);\r\n};\r\n\r\n// Get seller orders\r\nexport const getSellerOrders = (sellerId) => {\r\n    const db = getDatabase();\r\n    if (!db) return [];\r\n    return db.orders.filter(order => order.sellerId === sellerId);\r\n};\r\n\r\n// Update order status\r\nexport const updateOrderStatus = (orderId, status) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    \r\n    const orderIndex = db.orders.findIndex(o => o.id === orderId);\r\n    if (orderIndex === -1) return null;\r\n    \r\n    db.orders[orderIndex].status = status;\r\n    db.orders[orderIndex].updatedAt = new Date().toISOString();\r\n    saveDatabase(db);\r\n    return db.orders[orderIndex];\r\n};\r\n\r\n// ==================== REVIEW OPERATIONS ====================\r\n\r\n// Add review\r\nexport const addReview = (reviewData) => {\r\n    const db = getDatabase();\r\n    if (!db) return null;\r\n    \r\n    const newReview = {\r\n        id: generateId('review'),\r\n        ...reviewData,\r\n        createdAt: new Date().toISOString()\r\n    };\r\n    \r\n    db.reviews.push(newReview);\r\n    \r\n    // Update product rating\r\n    const productReviews = db.reviews.filter(r => r.productId === reviewData.productId);\r\n    const avgRating = productReviews.reduce((sum, r) => sum + r.rating, 0) / productReviews.length;\r\n    \r\n    const productIndex = db.products.findIndex(p => p.id === reviewData.productId);\r\n    if (productIndex !== -1) {\r\n        db.products[productIndex].rating = Math.round(avgRating * 10) / 10;\r\n        db.products[productIndex].reviewCount = productReviews.length;\r\n    }\r\n    \r\n    saveDatabase(db);\r\n    return newReview;\r\n};\r\n\r\n// Get product reviews\r\nexport const getProductReviews = (productId) => {\r\n    const db = getDatabase();\r\n    if (!db) return [];\r\n    return db.reviews.filter(review => review.productId === productId);\r\n};\r\n\r\nexport default {\r\n    initDatabase,\r\n    getDatabase,\r\n    saveDatabase,\r\n    generateId,\r\n    findUserByEmail,\r\n    findUserById,\r\n    createUser,\r\n    updateUser,\r\n    validateCredentials,\r\n    getAllProducts,\r\n    getProductsBySeller,\r\n    getProductById,\r\n    createProduct,\r\n    updateProduct,\r\n    deleteProduct,\r\n    searchProducts,\r\n    getProductsByCategory,\r\n    getFeaturedProducts,\r\n    getUserCart,\r\n    addToCart,\r\n    updateCartQuantity,\r\n    removeFromCart,\r\n    clearCart,\r\n    createOrder,\r\n    getUserOrders,\r\n    getSellerOrders,\r\n    updateOrderStatus,\r\n    addReview,\r\n    getProductReviews\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}